<html layout:decorate="~{layout}">
<div layout:fragment="content" class="container my-3">
    <div class="my-3 border-bottom">
        <div>
            <h4>회원가입</h4>
        </div>
    </div>
    <form th:action="@{|/${storeSN}/cart/modify/${cartId}|}" th:object="${cartFormDto}" method="post">

        <img th:src="*{imgUrl}" class="card-img-top" alt="card-grid-image">
        <h3>장바구니 속성</h3>
        <hr/>
        <h5 th:text="*{name}" class="card-title">메뉴명</h5>
        <h5 th:text="*{description}" class="card-title">상세보기</h5>
        <h5 th:text="*{price} +'원'" class="card-title">가격</h5>

        <div th:each="optionGroup : *{optionGroups}" class="form-check">
            <h5 th:text="${optionGroup.name}">옵션그룹이름</h5>
            <hr/>
            <div th:if="${optionGroup.isMultiple}">
                <div th:each="optionAndOptionGroup : ${optionGroup.optionAndOptionGroups}">
                    <input type = "checkbox" id="'ignore_'+ ${optionAndOptionGroup.id}"
                           th:value="${optionAndOptionGroup.options}" th:checked="${#lists.contains(cartFormDto.checkOptions, optionAndOptionGroup.options)}">
                    <label th:for="ignore" th:text="${optionAndOptionGroup.options.name}">옵션이름</label>
                </div>
            </div>
            <div th:if="${!optionGroup.isMultiple}">
                    <div th:each="optionAndOptionGroup : ${optionGroup.optionAndOptionGroups}">
                        <input type="radio" id="'ignore_'+ ${optionAndOptionGroup.id}"
                               th:value="${optionAndOptionGroup.options}" th:checked="${#lists.contains(cartFormDto.checkOptions, optionAndOptionGroup.options)}">
                        <label th:for="ignore" th:text="${optionAndOptionGroup.options.name}">옵션이름</label>
                    </div>
                </div>
            <br/><br/><br/>
        </div>

        <button type="submit" class="float-end btn btn-info btn-sm my-2">메뉴 수정</button>
    </form>
</div>
</html>